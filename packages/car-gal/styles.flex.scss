$zIndex: 2000;
$thumbsSize: 70px;
$menubarSize: 45px;
$fullScreenBgColor: #000;
$fullScreenTextColor: #fff;
$fontSize: 16;

// CSS variable bridge for runtime theming
:root {
  --cg-fsbg-color: #{$fullScreenBgColor};
  --cg-fs-color: #{$fullScreenTextColor};
  --cg-menubar-size: #{$menubarSize};
  --cg-thumbs-size: #{$thumbsSize};
  --cg-font-size: #{$fontSize}px;
}

.hidden,
.cg-hidden {
  display: none !important;
}

.cg-container {
  height: 100%;
}

div.cg-overlay {
  position: fixed;
  inset: 0;
  display: none;
  flex-direction: column;
  z-index: $zIndex;
  background: var(--cg-fsbg-color);
  font-size: calc(var(--cg-font-size) - 1px);
  color: var(--cg-fs-color);

  &.active {
    display: flex;
  }
}

body.cg-prevent-scroll {
  height: 100%;
  overflow: hidden;
}

html.cg-prevent-scroll {
  height: 100%;
  overflow: hidden;
}

.cg-fs-container {
  z-index: $zIndex + 1;
  height: 100%;
  width: 100%;
  margin: auto;
  display: flex;
  flex-direction: column;
  background: var(--cg-fsbg-color);
  color: var(--cg-fs-color);

  &.fixed {
    position: fixed;
    inset: 0;

    .cg-carousel {
      height: calc(100% - var(--cg-menubar-size));
    }

    &.cg-thumbs-active {
      .cg-carousel {
        height: calc(100% - (var(--cg-menubar-size) + var(--cg-thumbs-size)));
      }
    }
  }

  &.cg-thumbs-active {
    .cg-carousel {
      height: calc(100% - var(--cg-thumbs-size));
    }
  }

  .cg-fs-menubar {
    z-index: $zIndex + 2;
    height: var(--cg-menubar-size);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 12px;
    position: relative;
    color: var(--cg-fs-color);
    gap: 12px;
    background: transparent;

    .cg-fs-menubar-indicator {
      position: absolute;
      top: 0;
      left: 1%;
      font-size: 1.1em;
      line-height: var(--cg-menubar-size);
      margin: 0;
    }

    .cg-fs-menubar-title {
      text-align: center;
      font-size: 1.1em;
      line-height: var(--cg-menubar-size);
      color: var(--cg-fs-color);
      padding-left: 15px;
      margin: 0;
      flex: 1 1 auto;
    }

    ul.cg-fs-menubar-btn-group {
      position: absolute;
      top: 50%;
      right: 0.5rem;
      transform: translateY(-50%);
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      gap: 6px;

      li.cg-fs-menubar-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 6px;
        cursor: pointer;
        opacity: 0.6;
        transition: opacity 120ms ease, transform 120ms ease;

        &:hover {
          opacity: 1;
          transform: translateY(-1px);
        }
      }
    }
  }
}

.cg-carousel {
  position: relative;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  display: flex;
  overflow: hidden;
  background: #000;

  ul {
    padding: 0;
    margin: 0;
    list-style: none;
    height: 100%;
    width: 100%;
    display: flex;
    flex: 1 1 auto;
    overflow: hidden;

    li {
      flex: 1 0 100%;
      display: none;
      position: relative;
      align-items: center;
      justify-content: center;
      background: #000;

      &.active {
        display: flex;
      }

      img,
      video,
      canvas {
        max-height: 100%;
        max-width: 100%;
        object-fit: contain;
      }

      .cg-text {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
        text-align: center;
        color: var(--cg-fs-color);
      }
    }
  }

  .cg-description {
    position: absolute;
    inset-inline: 0;
    bottom: 0;
    font-size: 1.05em;
    text-align: center;
    padding: 12px 10px;
    background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.55) 100%);
    color: var(--cg-fs-color);
  }

  .cg-btn-container {
    .cg-btn {
      position: absolute;
      width: #{$fontSize * 3.5}px;
      height: #{$fontSize * 3.5}px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.35);
      border-radius: 50%;
      z-index: 2;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: background 120ms ease, transform 120ms ease;

      &.cg-left {
        left: 1%;
      }

      &.cg-right {
        right: 1%;
      }

      &:hover {
        background: rgba(0, 0, 0, 0.45);
        transform: translateY(-50%) scale(1.03);
      }
    }
  }
}

.cg-thumbs {
  display: none;
  width: 100%;
  position: relative; // allow absolute children

  &.active {
    display: block;
  }

  ul {
    padding: 0;
    margin: 0;
    list-style: none;
    height: var(--cg-thumbs-size);
    width: 100%;
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: minmax(60px, 120px);
    gap: 8px;
    overflow-x: auto;
    overflow-y: hidden;
    align-items: center;
    padding-inline: 10px;
    scroll-behavior: smooth;

    li {
      box-sizing: border-box;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid transparent;
      border-radius: 6px;
      transition: border-color 120ms ease, transform 120ms ease;
      background: #111;

      &.active {
        border-color: #888;
        transform: translateY(-1px);
      }

      img {
        max-height: 100%;
        max-width: 100%;
        width: auto;
        object-fit: cover;
      }
    }
  }

  .cg-btn-container {
    position: absolute;
    width: 4em;
    height: 4em;
    display: flex;
    align-items: center;
    justify-content: center;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 20%;
    z-index: 2;
    cursor: pointer;
    transition: background 120ms ease;

    &.cg-left {
      left: 0;
    }

    &.cg-right {
      right: 0;
    }

    &:hover {
      background: rgba(0, 0, 0, 0.4);
    }
  }
}

.cg-close {
  position: relative;
  display: block;
  width: 34px;
  height: 34px;

  &:before,
  &:after {
    background-color: var(--cg-fs-color);
    position: absolute;
    right: 50%;
    content: '';
    height: 26px;
    width: 1px;
  }

  &:before {
    transform: rotate(45deg);
  }

  &:after {
    transform: rotate(-45deg);
  }
}

.cg-tiles {
  display: inline-block;
  color: var(--cg-fs-color);
  width: 4px;
  height: 4px;
  box-shadow: 0 -10px 0, -10px -10px 0, 10px -10px 0, 0 0 0 40px inset, -10px 0 0, 10px 0 0, 0 10px 0, -10px 10px 0, 10px 10px 0;
  margin: 15px 10px;

  &:before,
  &:after {
    content: ' ';
  }

  &:hover {
    opacity: 1;
  }
}

.cg-thumbnails {
  height: 22px;
  width: 22px;
  display: inline-block;
  content: ' ';
  border-bottom: solid var(--cg-fs-color) 1px;
}

.cg-chevron {
  width: 100%;
  height: 100%;

  &::before,
  &::after {
    box-sizing: content-box;
  }

  &:hover {
    opacity: 1;
  }

  &::before {
    padding: 5px;
    border-style: solid;
    border-width: #{$fontSize * 0.25}px #{$fontSize * 0.25}px 0 0;
    content: '';
    display: inline-block;
    width: #{$fontSize * 0.75}px;
    height: #{$fontSize * 0.75}px;
    position: absolute;
    transform: rotate(-45deg);
    vertical-align: top;
    color: #fff;
  }

  &.cg-right:before,
  &.cg-left:before {
    top: #{$fontSize}px;
  }

  &.cg-right:before {
    right: #{$fontSize * 1.5}px;
    transform: rotate(45deg);
  }

  &.cg-left:before {
    left: #{$fontSize * 1.5}px;
    transform: rotate(-135deg);
  }

  &.cg-bottom:before {
    top: 0;
    transform: rotate(135deg);
  }
}

.video-responsive {
  overflow: hidden;
  padding-bottom: 56.25%;
  position: relative;
  height: 0;
  width: 100%;

  iframe {
    position: absolute;
    inset: 0;
    height: 100%;
    width: 100%;
  }
}

.cg-play {
  border: 0;
  background: transparent;
  box-sizing: border-box;
  width: 0;
  height: 74px;
  border-color: transparent transparent transparent #202020;
  transition: 100ms all ease;
  cursor: pointer;
  border-style: solid;
  border-width: 37px 0 37px 60px;

  &.cg-paused {
    border-style: double;
    border-width: 0 0 0 60px;
  }

  &:hover {
    border-color: transparent transparent transparent #404040;
  }
}